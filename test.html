<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sigiriya - The Lion Rock</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }
        .title-font {
            font-family: 'Playfair Display', serif;
        }
        /* Mobile friendly: Parallax effect is set to scroll by default */
        .parallax {
            background-attachment: scroll;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
        /* Desktop: Fixed attachment is applied only for larger screens */
        @media (min-width: 768px) {
            .parallax {
                background-attachment: fixed;
            }
        }
        .gradient-overlay {
            background: linear-gradient(135deg, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.3) 100%);
        }
        .scroll-indicator {
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-20px);}
            60% {transform: translateY(-10px);}
        }
        .fresco-card {
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }
        .fresco-card:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .back-button:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <a href="vlog.html" class="back-button" onclick="window.location.href='vlog.html'">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
    </a>

    <div id="threejs-bg" class="fixed top-0 left-0 w-full h-full z-0"></div>
    
    <div class="relative z-10 gradient-overlay min-h-screen">
        <header class="relative h-screen flex items-center justify-center px-6">
            <div class="text-center max-w-4xl mx-auto">
                <h1 class="title-font text-5xl sm:text-7xl md:text-8xl font-bold mb-6 animate-fadeIn">
                    <span class="bg-clip-text text-transparent bg-gradient-to-r from-amber-700 to-orange-500">Sigiriya</span>
                </h1>
                <p class="text-lg md:text-2xl mb-8 opacity-90">The Ancient Lion Rock Fortress of Sri Lanka</p>
                <a href="#content" class="scroll-indicator inline-block p-4 rounded-full border border-amber-400 text-amber-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                    </svg>
                </a>
            </div>
        </header>

        <section id="content" class="py-20 px-6">
            <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="relative h-96 md:h-[500px] rounded-2xl overflow-hidden shadow-2xl transform transition-all duration-500 hover:scale-105">
                    <div class="parallax absolute inset-0 bg-[url('shutterstock_1054621127-Sigiriya-Sri-Lanka.jpg')] bg-center bg-cover"></div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end p-8">
                        <div>
                            <span class="inline-block px-3 py-1 bg-amber-500 text-black rounded-full text-sm font-semibold mb-2">UNESCO World Heritage</span>
                            <h3 class="text-2xl font-bold">The Western Wall Frescoes</h3>
                        </div>
                    </div>
                    <div class="absolute top-1/4 left-1/4 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center cursor-pointer group">
                        <div class="w-3 h-3 bg-amber-400 rounded-full"></div>
                        <div class="absolute left-full ml-2 w-64 bg-black/80 p-4 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <p class="text-xs">The Sigiriya Damsels - Ancient frescoes depicting celestial maidens</p>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-6">
                    <h2 class="title-font text-4xl font-bold">The Ancient Rock Fortress</h2>
                    <p class="text-lg opacity-90">Sigiriya, often referred to as the "Lion Rock," is a magnificent ancient rock fortress and palace located in the Central Province of Sri Lanka. It is one of the most iconic and historically significant archaeological sites in the country, recognized as a UNESCO World Heritage Site.</p>
                   
                    <p>Dating back to the 5th century AD, Sigiriya was built by King Kashyapa on top of a massive column of rock nearly 200 meters (660 ft) high. The site is an extraordinary example of ancient urban planning, engineering, and art. The complex includes a sophisticated network of gardens (water gardens, cave gardens, and terraced gardens), sophisticated hydraulic systems, and remarkable frescoes.</p>
                    
                    <p>The most famous features include the "Lion Gate," where only the paws of the massive lion structure remain, and the exquisite Sigiriya frescoes, or "cloud maidens," painted on the western face of the rock. Visitors can ascend to the summit to witness the ruins of the palace, enjoy panoramic views of the surrounding landscape, and marvel at the ingenuity of its ancient builders. Sigiriya stands as a testament to the rich history and artistic prowess of ancient Sri Lanka.</p>
                </div>
            </div>
        </section>

        <section class="py-20 px-6 bg-white/30">
            <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="space-y-6 order-2 md:order-1">
                    <h2 class="title-font text-4xl font-bold">Architectural Marvel</h2>
                    <p class="text-lg opacity-90">Sigiriya is considered one of the most important urban planning sites of the first millennium, with its water gardens, frescoes, and mirror wall showcasing advanced engineering and artistic skills. The site combines concepts of symmetry and asymmetry to intentionally interlock the man-made geometrical and natural forms of the surroundings.</p>
                    
                    <div class="mt-8 space-y-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0 mt-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                                </svg>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-bold">Water Gardens</h4>
                                <p class="text-sm opacity-80">The most sophisticated ancient gardens in Asia with advanced hydraulics</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 mt-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" />
                                </svg>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-bold">Mirror Wall</h4>
                                <p class="text-sm opacity-80">Originally polished to a mirror finish with ancient graffiti inscriptions</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 mt-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                </svg>
                            </div>
                            <div class="ml-3">
                                <h4 class="font-bold">Lion's Gate</h4>
                                <p class="text-sm opacity-80">The enormous lion paws flanking the entrance staircase</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="relative h-96 md:h-[500px] order-1 md:order-2" id="tilt-container">
                    <div class="absolute inset-0 rounded-2xl overflow-hidden shadow-2xl">
                        <img src="Sigiriya5.jpg" 
                             alt="Sigiriya from distance" 
                             class="w-full h-full object-cover">
                    </div>
                    <div class="absolute -bottom-6 -left-6 fresco-card bg-white p-4 rounded-lg shadow-lg w-48 z-10">
                        <div class="w-full h-24 bg-[url('Sigiriya_800x520.jpg')] bg-cover bg-center mb-2 rounded"></div>
                        <h4 class="font-bold text-sm">Frescoes</h4>
                        <p class="text-xs opacity-80">21 surviving paintings of celestial maidens</p>
                    </div>
                    <div class="absolute -top-6 -right-6 fresco-card bg-white p-4 rounded-lg shadow-lg w-48 z-10">
                        <div class="w-full h-24 bg-[url('6.jpg')] bg-cover bg-center mb-2 rounded"></div>
                        <h4 class="font-bold text-sm">Gardens</h4>
                        <p class="text-xs opacity-80">World's oldest surviving landscape gardens</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-20 px-6">
            <div class="max-w-7xl mx-auto">
                <h2 class="title-font text-4xl font-bold text-center mb-16">Historical Timeline</h2>
                
                <div class="relative">
                    <div class="absolute left-1/2 h-full w-1 bg-amber-400/30 transform -translate-x-1/2"></div>
                    
                    <div class="mb-12 w-full">
                        <div class="flex flex-col md:flex-row items-center">
                            <div class="flex-1 md:pr-12 md:text-right order-1 md:order-1">
                                <h3 class="text-2xl font-bold mb-2">Prehistoric Period</h3>
                                <p class="opacity-90">Evidence suggests Sigiriya was inhabited as early as the 3rd century BCE by Buddhist monks using the rock's caves as shelters.</p>
                            </div>
                            <div class="w-8 h-8 rounded-full bg-amber-400 border-4 border-white z-10 mx-4 order-2"></div>
                            <div class="flex-1 md:pl-12 order-3 md:order-3 hidden md:block">
                                <img src="Sigiriya-Potana-cave-excavation-site-Photograph-by-Gamini-Adikari.png" alt="Sigiriya caves or prehistoric evidence" class="w-48 h-32 object-cover rounded-lg">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-12 w-full">
                        <div class="flex flex-col md:flex-row items-center">
                            <div class="flex-1 md:pr-12 order-1 md:order-3 hidden md:block">
                                <img src="2314928.jpg" alt="Sigiriya frescoes or palace" class="w-48 h-32 object-cover rounded-lg">
                            </div>
                            <div class="w-8 h-8 rounded-full bg-amber-400 border-4 border-white z-10 mx-4 order-2"></div>
                            <div class="flex-1 md:pl-12 md:text-left order-3 md:order-1">
                                <h3 class="text-2xl font-bold mb-2">5th Century CE</h3>
                                <p class="opacity-90">King Kashyapa (477–495 CE) built his palace on top of the rock and decorated its sides with colorful frescoes.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-12 w-full">
                        <div class="flex flex-col md:flex-row items-center">
                            <div class="flex-1 md:pr-12 md:text-right order-1 md:order-1">
                                <h3 class="text-2xl font-bold mb-2">After Kashyapa</h3>
                                <p class="opacity-90">After the king's death, Sigiriya was abandoned and later used as a Buddhist monastery until the 14th century.</p>
                            </div>
                            <div class="w-8 h-8 rounded-full bg-amber-400 border-4 border-white z-10 mx-4 order-2"></div>
                            <div class="flex-1 md:pl-12 order-3 md:order-3 hidden md:block">
                                <img src="Sigiriya-frescoes-guided-tours-and-hidden-meanings.jpg" alt="Description of your image" class="w-48 h-32 object-cover rounded-lg">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-12 w-full">
                        <div class="flex flex-col md:flex-row items-center">
                            <div class="flex-1 md:pr-12 order-1 md:order-3 hidden md:block">
                                <img src="sigiriya-cultural-triangle-sri-lanka.jpg" alt="Description of your image" class="w-48 h-32 object-cover rounded-lg">
                            </div>
                            <div class="w-8 h-8 rounded-full bg-amber-400 border-4 border-white z-10 mx-4 order-2"></div>
                            <div class="flex-1 md:pl-12 md:text-left order-3 md:order-1">
                                <h3 class="text-2xl font-bold mb-2">Modern Era</h3>
                                <p class="opacity-90">Rediscovered by British archaeologists in the 19th century, now a UNESCO World Heritage Site and popular tourist destination.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-20 px-6">
            <div class="max-w-7xl mx-auto text-center">
               
                <div id="p5-container" class="relative max-w-full mx-auto shadow-2xl rounded-xl overflow-hidden">
                    </div>
            </div>
        </section>

    </div>

    <script>
        // Three.js Background
        document.addEventListener('DOMContentLoaded', function() {
            // Set up Three.js scene
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000000, 0);
            document.getElementById('threejs-bg').appendChild(renderer.domElement);

            // Add subtle particles
            const particlesGeometry = new THREE.BufferGeometry();
            const particleCount = 1000;
            
            const posArray = new Float32Array(particleCount * 3);
            for(let i = 0; i < particleCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 10;
            }
            
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            
            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.02,
                color: 0x555555,
                transparent: true,
                opacity: 0.5
            });
            
            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particlesMesh);

            // Position camera
            camera.position.z = 3;

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                
                particlesMesh.rotation.x += 0.0001;
                particlesMesh.rotation.y += 0.0001;
                
                renderer.render(scene, camera);
            }
            animate();

            // Handle window resize
            window.addEventListener('resize', function() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // Tilt effect for image
            const tiltContainer = document.getElementById('tilt-container');
            if(tiltContainer) {
                // Check for desktop screen size before adding event listeners
                if (window.innerWidth >= 768) {
                    tiltContainer.addEventListener('mousemove', (e) => {
                        const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
                        const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
                        tiltContainer.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
                    });

                    tiltContainer.addEventListener('mouseenter', () => {
                        tiltContainer.style.transition = 'all 0.1s ease';
                    });

                    tiltContainer.addEventListener('mouseleave', () => {
                        tiltContainer.style.transform = 'rotateY(0deg) rotateX(0deg)';
                        tiltContainer.style.transition = 'all 0.5s ease';
                    });
                }
            }

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });

        // p5.js 360° viewer (Responsive Code)
        const p5sketch = function(p) {
            let images = [];
            let currentAngle = 0;
            let isDragging = false;
            let prevX = 0;
            let canvasParent;
            
            p.preload = function() {
                // Load sequence of images for 360 view
                for(let i = 0; i < 36; i++) {
                    // In a real implementation, you would load actual 360° images
                    // For demo purposes, we'll just use a placeholder
                    images[i] = p.loadImage(`https://via.placeholder.com/800x400?text=Sigiriya+View+${i+1}`);
                }
            };
            
            p.setup = function() {
                canvasParent = document.getElementById('p5-container');
                // Calculate responsive canvas size
                let canvasWidth = canvasParent.offsetWidth;
                let canvasHeight = canvasWidth * 0.5; // Maintain a 2:1 aspect ratio
                let canvas = p.createCanvas(canvasWidth, canvasHeight);
                canvas.parent('p5-container');
                p.noStroke();
            };
            
            p.draw = function() {
                p.background(0);
                
                let imgIndex = p.floor(p.map(currentAngle % 360, 0, 360, 0, images.length));
                if(imgIndex < 0) imgIndex += images.length;
                
                if(images[imgIndex]) {
                    p.image(images[imgIndex], 0, 0, p.width, p.height);
                }
                
                p.fill(255, 200);
                p.textSize(12);
                p.textAlign(p.CENTER);
                p.text("Click and drag to rotate view", p.width/2, p.height - 20);
            };
            
            p.windowResized = function() {
                // Recalculate and resize canvas on window resize
                canvasParent = document.getElementById('p5-container');
                let newCanvasWidth = canvasParent.offsetWidth;
                let newCanvasHeight = newCanvasWidth * 0.5;
                p.resizeCanvas(newCanvasWidth, newCanvasHeight);
            };
            
            p.mousePressed = function() {
                isDragging = true;
                prevX = p.mouseX;
            };
            
            p.mouseReleased = function() {
                isDragging = false;
            };
            
            p.mouseDragged = function() {
                if(isDragging) {
                    let delta = p.mouseX - prevX;
                    currentAngle += delta * 0.5;
                    prevX = p.mouseX;
                }
            };
        };

        new p5(p5sketch);
    </script>
</body>
</html>